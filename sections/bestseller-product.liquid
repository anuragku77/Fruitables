<!-- Bestsaler Product Start -->
<style>
.wbs__stars {
  display: flex;
  justify-content: center;
  width: min(80%, 300px);
}

<div class="container-fluid py-5">
  <div class="container py-5">
    {% assign collection = collections[section.settings.product_collection] %}
    <div class="text-center mx-auto mb-5" style="max-width: 700px;">
      <h1 class="display-4">{{ collection.title }}</h1>
      <p>{{ collection.description }}</p>
    </div>
    <div class="row g-4">
      {% for product in collection.products %}
        {% if forloop.index <= 6 %}
          <div class="col-lg-6 col-xl-4">
            <div class="p-4 rounded bg-light">
              <div class="row align-items-center">
                <div class="col-6">
                  <img
                    src="{{ product.featured_image | img_url: 'medium' }}"
                    class="img-fluid rounded-circle w-100"
                    alt="{{ product.title }} "
                    width="1200"
                    height="1200"
                  >
                </div>
                <div class="col-6">
                  <a href="{{ product.url }}" class="h5">{{ product.title }}</a>
                  {%- if section.settings.star_rating != -1 -%}
                    <div class="d-flex my-3 justify-content-center">
                      {%- for i in (1..5) -%}
                        <div class="wbs__star">
                          {%- if i <= section.settings.star_rating -%}
                            <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 18a.8.8 0 01-.792-.914l.743-5.203-2.917-2.917a.8.8 0 01.434-1.355l4.398-.733 2.218-4.435a.8.8 0 011.435.008l2.123 4.361 4.498.801a.8.8 0 01.425 1.353l-2.917 2.917.744 5.203a.8.8 0 01-1.154.828l-4.382-2.22-4.502 2.223A.792.792 0 015.2 18z" fill="#5C5F62"/></svg>
                          {%- else -%}
                            <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 15.116l3.357-1.658.892.452 2.327 1.178-.56-3.912.708-.707 1.29-1.29-3.235-.576-.445-.915-1.059-2.176L8.4 8.683l-1.005.168-2.098.35 1.975 1.975-.141.99-.422 2.95zM5.2 18a.8.8 0 01-.792-.914l.743-5.203-2.917-2.917a.8.8 0 01.434-1.355l4.398-.733 2.218-4.435a.8.8 0 011.435.008l2.123 4.361 4.498.801a.8.8 0 01.425 1.353l-2.917 2.917.744 5.203a.8.8 0 01-1.154.828l-4.382-2.22-4.502 2.223A.792.792 0 015.2 18z" fill="#5C5F62"/></svg>
                          {%- endif -%}
                        </div>
                      {%- endfor -%}
                    </div>
                  {%- endif -%}
                  {% comment %} <div class="d-flex my-3">
                    <i class="fas fa-star text-primary"></i>
                    <i class="fas fa-star text-primary"></i>
                    <i class="fas fa-star text-primary"></i>
                    <i class="fas fa-star text-primary"></i>
                    <i class="fas fa-star"></i>
                  </div> {% endcomment %}
                  <h4 class="mb-3">{{ product.price | money }}</h4>
                  <a onclick="addToCart({{ product.selected_or_first_available_variant.id }})" class="btn border border-secondary rounded-pill px-3 text-primary"
                    ><i class="fa fa-shopping-bag me-2 text-primary"></i> Add to cart</a
                  >
                </div>
              </div>
            </div>
          </div>
        {% else %}
          <div class="col-md-6 col-lg-6 col-xl-3">
            <div class="text-center">
              <img
                src="{{ product.featured_image | img_url: 'medium' }}"
                class="img-fluid rounded"
                alt="{{ product.title }} "
                width="1200"
                height="1200"
              >
              <div class="py-4">
                <a href="{{ product.url }}" class="h5">{{ product.title }}</a>
                {%- if section.settings.star_rating != -1 -%}
                  <div class="d-flex my-3 justify-content-center">
                    {%- for i in (1..5) -%}
                      <div class="wbs__star">
                        {%- if i <= section.settings.star_rating -%}
                          <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 18a.8.8 0 01-.792-.914l.743-5.203-2.917-2.917a.8.8 0 01.434-1.355l4.398-.733 2.218-4.435a.8.8 0 011.435.008l2.123 4.361 4.498.801a.8.8 0 01.425 1.353l-2.917 2.917.744 5.203a.8.8 0 01-1.154.828l-4.382-2.22-4.502 2.223A.792.792 0 015.2 18z" fill="#5C5F62"/></svg>
                        {%- else -%}
                          <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 15.116l3.357-1.658.892.452 2.327 1.178-.56-3.912.708-.707 1.29-1.29-3.235-.576-.445-.915-1.059-2.176L8.4 8.683l-1.005.168-2.098.35 1.975 1.975-.141.99-.422 2.95zM5.2 18a.8.8 0 01-.792-.914l.743-5.203-2.917-2.917a.8.8 0 01.434-1.355l4.398-.733 2.218-4.435a.8.8 0 011.435.008l2.123 4.361 4.498.801a.8.8 0 01.425 1.353l-2.917 2.917.744 5.203a.8.8 0 01-1.154.828l-4.382-2.22-4.502 2.223A.792.792 0 015.2 18z" fill="#5C5F62"/></svg>
                        {%- endif -%}
                      </div>
                    {%- endfor -%}
                  </div>
                {%- endif -%}
                {% comment %} <div class="d-flex my-3 justify-content-center">
                  <i class="fas fa-star text-primary"></i>
                  <i class="fas fa-star text-primary"></i>
                  <i class="fas fa-star text-primary"></i>
                  <i class="fas fa-star text-primary"></i>
                  <i class="fas fa-star"></i>
                </div> {% endcomment %}
                <h4 class="mb-3">{{ product.price | money }}</h4>
                <a onclick="addToCart({{ product.selected_or_first_available_variant.id }})" class="btn border border-secondary rounded-pill px-3 text-primary"
                  ><i class="fa fa-shopping-bag me-2 text-primary"></i> Add to cart</a
                >
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
<!-- Bestsaler Product End -->

{% schema %}
{
  "name": "Bestseller Products",
  "enabled_on": {
    "templates": ["index"]
  },
  "settings": [
    {
      "type": "collection",
      "id": "product_collection",
      "label": "Product Collection"
    },
    {
      "type": "range",
      "id": "star_rating",
      "min": -1,
      "max": 5,
      "label": "Star rating",
      "default": 5,
      "info": "Set to -1 to hide star rating"
    }
  ],
  "presets": [
    {
      "name": "Bestseller Products"
    }
  ]
}
{% endschema %}
